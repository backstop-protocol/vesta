import React, { Component } from "react";
import {observer} from "mobx-react"
import Flex, {FlexItem} from "styled-flex-component"
import styled from "styled-components"
import { makeAutoObservable, runInAction, observable} from "mobx"
import Logo from "./Logo";
import userStore from "../../stores/user.store"
import TermsOfUseContent from "../../components/TermsOfUseContent"
import {Close} from "../../components/style-components/Buttons"
import {walletTypes} from "../../wallets/Wallets"
import {isMobile} from "../../screenSizes";

const inMobileAndTablet = () => {
  let check = false;
  (function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);
  return check;
}

const inIframe = () => {
  try {
      return window.self !== window.top;
  } catch (e) {
      return true;
  }
}

class ConnectButton extends Component {

  selectWallet (walletType) {
    userStore.selectWallet(walletType)
    window.toggleModal("wallet-select-modal")
  }

  render() {
    const { loggedIn, user, connecting } = userStore
    let btnText = ""
    if(user){
      btnText = user
    } else if (connecting){
      btnText = "Connecting"
    } else {
      btnText = "Connect"
    }
    const onMobile = isMobile()
    const mobileAppLInk = inIframe() && inMobileAndTablet()
    return (
      <div>
        <dialog id="wallet-select-modal">
          <div style={{maxWidth: '400px'}} className="container">
            <article>
            <Close
              aria-label="Close"
              onClick={()=>window.toggleModal("wallet-select-modal")}/>
            <h3>Select a wallet</h3>
            <button style={{padding: '0'}} className="contrast outline" onClick={()=>this.selectWallet(walletTypes.META_MASK)}>
              <Flex alignCenter justifyCenter>
                <svg style={{maxHeight: '50px', margin: '10px', marginLeft: '-50px' }} viewBox="0 0 24 24" display="inline-block" focusable="false" role="presentation" className="css-tic4zn"><g><g clipPath="url(#clip0_metamask)"><path d="M20.6116 2.44287L13.1526 8.03834L14.5233 4.73046L20.6116 2.44287Z" fill="#E2761B"></path><path d="M3.38794 2.44287L10.7832 8.09204L9.47626 4.73046L3.38794 2.44287Z" fill="#E4761B"></path><path d="M17.9235 15.4272L15.9365 18.4988L20.1867 19.6802L21.4086 15.4917L17.9235 15.4272Z" fill="#E4761B"></path><path d="M2.59106 15.4917L3.81298 19.6802L8.06312 18.4988L6.07618 15.4272L2.59106 15.4917Z" fill="#E4761B"></path><path d="M7.81882 10.2292L6.6394 12.0335L10.8577 12.2268L10.7089 7.64087L7.81882 10.2292Z" fill="#E4761B"></path><path d="M16.1702 10.2292L13.2482 7.58716L13.1526 12.2268L17.3602 12.0335L16.1702 10.2292Z" fill="#E4761B"></path><path d="M8.06323 18.4989L10.5921 17.253L8.40324 15.5239L8.06323 18.4989Z" fill="#E4761B"></path><path d="M13.397 17.253L15.9364 18.4989L15.5858 15.5239L13.397 17.253Z" fill="#E4761B"></path><path d="M15.9364 18.499L13.397 17.2532L13.5989 18.9286L13.5776 19.6374L15.9364 18.499Z" fill="#D7C1B3"></path><path d="M8.06323 18.499L10.4221 19.6374L10.4114 18.9286L10.5921 17.2532L8.06323 18.499Z" fill="#D7C1B3"></path><path d="M10.4645 14.4179L8.3501 13.7843L9.83765 13.0969L10.4645 14.4179Z" fill="#233447"></path><path d="M13.5247 14.4179L14.1516 13.0969L15.6497 13.7843L13.5247 14.4179Z" fill="#233447"></path><path d="M8.06311 18.4988L8.42437 15.4272L6.07617 15.4917L8.06311 18.4988Z" fill="#CD6116"></path><path d="M15.5752 15.4272L15.9365 18.4988L17.9234 15.4917L15.5752 15.4272Z" fill="#CD6116"></path><path d="M17.3602 12.0334L13.1526 12.2268L13.5351 14.4177L14.162 13.0967L15.6602 13.784L17.3602 12.0334Z" fill="#CD6116"></path><path d="M8.35008 13.784L9.84826 13.0967L10.4645 14.4177L10.8577 12.2268L6.6394 12.0334L8.35008 13.784Z" fill="#CD6116"></path><path d="M6.6394 12.0334L8.40321 15.5239L8.35009 13.784L6.6394 12.0334Z" fill="#E4751F" stroke="#E4751F" strokeWidth="0.07" strokeLinecap="round" strokeLinejoin="round"></path><path d="M15.6603 13.784L15.5859 15.5239L17.3604 12.0334L15.6603 13.784Z" fill="#E4751F" stroke="#E4751F" strokeWidth="0.07" strokeLinecap="round" strokeLinejoin="round"></path><path d="M10.8577 12.2268L10.4646 14.4177L10.9534 17.006L11.0702 13.6015L10.8577 12.2268Z" fill="#E4751F"></path><path d="M13.1528 12.2268L12.9509 13.5908L13.0359 17.006L13.5353 14.4177L13.1528 12.2268Z" fill="#E4751F"></path><path d="M13.5353 14.4178L13.0359 17.0061L13.3972 17.2532L15.586 15.524L15.6603 13.7842L13.5353 14.4178Z" fill="#F6851B"></path><path d="M8.3501 13.7842L8.40322 15.524L10.592 17.2532L10.9533 17.0061L10.4645 14.4178L8.3501 13.7842Z" fill="#F6851B"></path><path d="M13.5778 19.6374L13.599 18.9286L13.4078 18.7568H10.5814L10.4114 18.9286L10.4221 19.6374L8.06323 18.499L8.89201 19.1864L10.5602 20.357H13.429L15.1078 19.1864L15.9366 18.499L13.5778 19.6374Z" fill="#C0AD9E"></path><path d="M13.3971 17.2531L13.0358 17.0061H10.9533L10.592 17.2531L10.4114 18.9285L10.5814 18.7567H13.4077L13.599 18.9285L13.3971 17.2531Z" fill="#161616"></path><path d="M20.9197 8.40349L21.5679 5.31041L20.6116 2.44287L13.397 7.85576L16.1702 10.2293L20.0909 11.3892L20.9622 10.3581L20.5903 10.0896L21.1853 9.53118L20.7285 9.16602L21.3235 8.70421L20.9197 8.40349Z" fill="#763D16"></path><path d="M2.44238 5.31041L3.0799 8.40349L2.66552 8.70421L3.27116 9.16602L2.81427 9.53118L3.40929 10.0896L3.0374 10.3581L3.89806 11.3892L7.81881 10.2293L10.592 7.85576L3.38804 2.44287L2.44238 5.31041Z" fill="#763D16"></path><path d="M20.0911 11.3892L16.1703 10.2292L17.3604 12.0335L15.5859 15.524L17.9235 15.4918H21.4086L20.0911 11.3892Z" fill="#F6851B"></path><path d="M7.81873 10.2292L3.89798 11.3892L2.59106 15.4918H6.07618L8.40313 15.524L6.63932 12.0335L7.81873 10.2292Z" fill="#F6851B"></path><path d="M13.1527 12.2269L13.3971 7.85577L14.534 4.73047H9.47632L10.592 7.85577L10.8576 12.2269L10.9532 13.6016V17.0061H13.0358L13.0464 13.6016L13.1527 12.2269Z" fill="#F6851B"></path></g><defs><clipPath id="clip0_metamask"><rect x="2.3999" y="2.3999" width="19.2" height="18" fill="white"></rect></clipPath></defs></g></svg>
                <span> Meta Mask</span>
              </Flex>
            </button>
            <button style={{padding: '0'}} className="contrast outline" onClick={()=>this.selectWallet(walletTypes.TALLY)}>
              <Flex alignCenter justifyCenter>
                <svg style={{maxHeight: '50px', margin: '10px', marginLeft: '-50px' }} viewBox="0 0 300 300" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="150" cy="150" r="150" fill="#D08E39"/><path fill-rule="evenodd" clip-rule="evenodd" d="M241.377 139.857C243.536 141.62 244.989 144.099 245.473 146.844C245.59 147.663 245.58 148.496 245.443 149.313C245.406 149.889 245.335 150.462 245.232 151.029C245.066 152.149 244.825 153.255 244.509 154.342C243.832 156.572 242.816 158.685 241.498 160.606C241.248 160.968 240.931 161.382 240.712 161.667C240.64 161.761 240.579 161.841 240.534 161.901V162.051C240.538 162.077 240.542 162.107 240.546 162.142C240.58 162.385 240.643 162.837 240.775 163.497C241.138 165.685 241.249 167.908 241.106 170.122C240.818 174.429 239.8 178.655 238.095 182.62C236.418 186.749 233.774 190.416 230.385 193.31L229.994 193.672L229.452 193.852C225.246 195.431 220.928 196.689 216.533 197.617C212.031 198.645 207.416 199.091 202.8 198.942H202.409H202.017C192.44 195.859 182.554 193.84 172.535 192.919C169.811 192.717 167.104 192.325 164.434 191.744C161.817 191.079 159.242 190.255 156.725 189.275C152.705 187.812 148.59 186.624 144.408 185.721C142.442 188.461 141.532 191.82 141.848 195.177C142.479 199.975 144.001 204.612 146.335 208.85C149.27 213.457 151.683 218.376 153.533 223.515C155.31 229.024 155.764 234.874 154.858 240.59L154.045 245.8L149.648 242.789C149.119 242.336 148.127 241.735 147.182 241.163C146.997 241.051 146.814 240.94 146.636 240.831L143.625 239.175C144.695 243.117 145.4 247.15 145.733 251.221C145.934 254.744 145.864 258.278 145.522 261.791C145.251 265.286 144.48 268.724 143.233 272C130.749 253.03 120.56 247.596 111.635 242.836C105.641 239.639 100.216 236.746 95.05 230.261C87.4008 219.39 85.4736 206.892 96.1342 183.252C99.0857 175.947 100.907 167.935 102.396 161.383C103.658 155.835 104.681 151.333 105.951 149.192V149.373C105.086 154.355 105.086 159.449 105.951 164.43C106.332 166.775 107.204 169.012 108.511 170.995C109.887 172.794 111.731 174.18 113.842 175.001C118.39 176.752 123.188 177.769 128.056 178.012C130.525 178.404 133.025 178.404 135.584 178.404C136.911 178.382 138.238 178.433 139.56 178.554C140.915 178.675 142.24 178.855 143.565 179.036C148.82 179.887 153.997 181.166 159.044 182.861C163.598 184.606 168.413 185.573 173.288 185.721C183.645 186.548 193.871 188.569 203.764 191.744C207.67 191.869 211.578 191.566 215.418 190.841C216.804 190.6 218.189 190.269 219.574 189.938C226.38 187.95 234.029 176.386 225.175 177.35C222.717 177.465 220.27 177.767 217.858 178.253C216.476 178.58 215.108 179.098 213.658 179.647C212.169 180.21 210.593 180.807 208.823 181.265C205.481 182.024 202.002 181.93 198.705 180.994C195.822 179.824 192.773 179.112 189.67 178.885C191.122 178.064 192.736 177.571 194.398 177.44C195.616 177.318 196.696 177.36 197.732 177.401C198.234 177.421 198.725 177.44 199.217 177.44C202.026 177.826 204.882 177.704 207.649 177.079C209.07 176.677 210.509 175.905 212.055 175.075C213.294 174.411 214.601 173.71 216.021 173.134C219.163 171.82 222.523 171.105 225.928 171.026H225.868C227.1 170.919 228.34 170.919 229.572 171.026C230.713 169.757 231.571 168.261 232.09 166.636C232.61 165.011 232.778 163.294 232.584 161.6C231.721 160.293 230.417 159.342 228.91 158.919C228.305 158.786 227.535 158.636 226.654 158.466C222.184 157.599 214.868 156.181 211.925 153.439C209.907 151.481 208.823 145.609 215.93 143.983C219.699 143.329 223.541 143.207 227.344 143.621L227.489 143.635C229.194 143.797 233.426 144.198 234.421 143.35C233.939 143.029 233.51 142.708 233.082 142.386C232.868 142.226 232.654 142.065 232.433 141.905L223.098 134.798C222.454 134.345 221.829 133.887 221.216 133.438C220.279 132.752 219.37 132.085 218.46 131.485C218.152 131.264 217.83 131.063 217.496 130.883C217.168 130.704 216.825 130.553 216.472 130.431C215.443 130.037 214.438 129.585 213.461 129.076C209.819 127.2 206.504 124.749 203.643 121.818C195.002 112.991 187.742 102.909 182.112 91.9143C179.813 87.4495 175.971 83.9715 171.3 82.1271C173.726 81.9812 176.155 82.3334 178.439 83.1621C180.723 83.9907 182.813 85.2783 184.581 86.9454C185.184 87.4456 185.953 88.8206 186.938 90.5821C189.689 95.5025 194.126 103.439 201.355 103.749C202.601 103.649 203.828 103.375 204.999 102.936C201.41 99.5388 198.98 95.4475 196.706 91.6175C193.256 85.8064 190.162 80.597 183.918 79.3264C182.352 78.7543 180.967 78.1821 179.341 77.369L175.125 75.2911L166.693 71.1654C161.118 68.4991 155.386 66.176 149.527 64.2089C143.726 62.3015 137.741 61.0095 131.669 60.3542C130.231 60.1642 128.783 60.0535 127.333 60.0229C126.163 60.0194 125.009 60.2875 123.96 60.8059C123.35 61.0674 122.663 61.434 121.956 61.811C121.197 62.2156 120.416 62.6323 119.684 62.9441C118.268 63.5463 116.883 64.1788 115.498 64.8714C110.01 67.5304 104.829 70.7821 100.049 74.5684C96.4586 77.1021 93.3052 80.2044 90.7134 83.7533C95.2321 83.4475 99.7667 84.0411 104.054 85.4999C98.6259 85.3998 93.2167 86.1725 88.0334 87.7886C85.4913 88.5223 83.0054 89.4381 80.595 90.5291C78.1856 91.5624 75.8598 92.7806 73.6385 94.1729C71.4495 95.4323 69.4262 96.9599 67.6156 98.7203C66.8844 99.4609 66.3107 100.342 65.9291 101.31C65.4178 102.453 64.9666 103.686 64.5153 104.92L64.5138 104.924C62.7634 109.981 61.3647 115.153 60.3279 120.403C58.1656 130.887 57.356 141.605 57.9187 152.294C58.3674 160.915 60.6138 169.347 64.5138 177.049C68.2179 172.17 71.8316 167.201 75.3249 162.202C79.8298 155.723 84.0012 149.019 87.8226 142.115C89.807 138.556 91.569 134.832 93.3498 131.068C94.9742 127.635 96.6142 124.169 98.4529 120.764C100.299 117.094 102.487 113.605 104.988 110.344C106.257 108.668 107.735 107.161 109.385 105.857C111.02 104.496 113.043 103.684 115.167 103.539C108.421 109.592 103.181 125.854 97.941 144.073C93.725 158.859 79.3905 192.558 70.3561 193.401C66.8628 193.581 65.5679 191.925 63.1888 188.492L61.2011 185.782C57.7327 180.949 55.0872 175.577 53.3714 169.881C51.7471 164.306 50.7373 158.57 50.3599 152.776C50.0829 147.082 50.2137 141.376 50.7514 135.701C51.4198 130.075 52.4254 124.493 53.7629 118.987C55.0175 113.459 56.6577 108.025 58.6716 102.725C59.2137 101.37 59.7556 100.045 60.4181 98.6901C60.7818 97.9412 61.1944 97.2168 61.6529 96.5219C62.1785 95.811 62.752 95.137 63.3695 94.5042C65.5568 92.4249 68.0314 90.6704 70.7175 89.2944C74.6718 87.2266 78.885 85.6972 83.2451 84.747C84.6096 81.6745 86.483 78.8543 88.7862 76.4053C91.0908 74.006 93.5887 71.8002 96.2546 69.8102C101.367 65.7735 106.9 62.3003 112.757 59.4507C113.686 58.9865 114.817 58.4818 115.816 58.0361C116.307 57.8169 116.767 57.6119 117.154 57.4331C117.674 57.1933 118.229 56.9063 118.83 56.5956C119.587 56.2041 120.417 55.7749 121.34 55.3552C123.148 54.4935 125.12 54.0313 127.122 54C128.696 54 129.855 54.1209 131.045 54.245C131.426 54.2848 131.81 54.3248 132.212 54.3614C138.682 55.0693 145.061 56.4521 151.244 58.4871C157.342 60.5331 163.306 62.957 169.102 65.7447L177.685 69.9005L181.931 72.0086C182.968 72.569 184.291 73.0773 185.732 73.6304C185.839 73.6718 185.948 73.7133 186.057 73.7552C187.622 74.3575 189.038 74.9598 190.634 75.7729C191.481 76.2069 192.296 76.7 193.073 77.2485C193.814 77.8479 194.518 78.4916 195.181 79.1759C197.501 81.6732 199.522 84.4322 201.204 87.3971C201.421 87.774 201.637 88.1497 201.851 88.5236C204.789 93.6485 207.538 98.4432 211.805 101.25L214.816 103.237C214.77 103.403 214.709 103.564 214.635 103.719L214.003 104.864L210.991 106.399C210.694 106.532 210.426 106.723 210.204 106.961C209.981 107.199 209.809 107.479 209.696 107.785C209.585 108.073 209.523 108.379 209.516 108.688V110.616C209.531 111.633 209.399 112.647 209.124 113.627C208.999 114.015 208.848 114.361 208.714 114.668C208.526 115.1 208.371 115.453 208.371 115.735C208.276 116.049 208.276 116.385 208.371 116.699C210.764 119.129 213.529 121.162 216.563 122.722L218.972 123.836C219.539 124.04 220.093 124.281 220.628 124.559L222.164 125.492C223.511 126.347 224.615 127.187 225.713 128.023C226.162 128.364 226.61 128.705 227.073 129.046L236.438 136.183L238.667 137.839C239.611 138.455 240.516 139.129 241.377 139.857ZM167.384 112.061C167.685 115.795 163.228 118.716 157.778 119.319C150.911 120.011 147.237 116.036 148.201 111.429C150.008 103.719 146.033 106.339 143.383 109.351C143.339 109.426 143.269 109.483 143.187 109.511C143.104 109.539 143.014 109.536 142.934 109.503C142.853 109.47 142.787 109.409 142.748 109.331C142.708 109.254 142.699 109.164 142.72 109.08C143.834 101.129 148.502 100.798 150.58 100.798C156.873 101.231 163.108 102.291 169.191 103.96C169.359 103.997 169.513 104.081 169.635 104.202C169.757 104.323 169.841 104.476 169.879 104.643C169.917 104.811 169.907 104.986 169.849 105.147C169.791 105.309 169.688 105.451 169.552 105.556C168.645 106.35 167.966 107.371 167.585 108.514C167.204 109.658 167.134 110.882 167.384 112.061Z" fill="#002522"/></svg>
                <span> Tally</span>
              </Flex>
            </button>
            <button style={{padding: '0'}} className="contrast outline" onClick={()=>this.selectWallet(walletTypes.WALLET_CONNECT)}>
              <Flex alignCenter justifyCenter>
                <svg style={{maxHeight: '50px', margin: '10px', marginLeft: '-50px' }} viewBox="0 0 24 24" display="inline-block" focusable="false" role="presentation" className="css-tic4zn"><g><path d="M6.09607 8.54776C9.35682 5.18265 14.6435 5.18265 17.9043 8.54776L18.2967 8.95276C18.4598 9.12101 18.4598 9.39381 18.2967 9.56207L16.9543 10.9475C16.8728 11.0316 16.7406 11.0316 16.6591 10.9475L16.119 10.3902C13.8442 8.04257 10.1561 8.04257 7.88132 10.3902L7.30299 10.987C7.22147 11.0711 7.0893 11.0711 7.00778 10.987L5.66533 9.60159C5.5023 9.43333 5.5023 9.16054 5.66533 8.99228L6.09607 8.54776ZM20.6806 11.4129L21.8754 12.646C22.0384 12.8142 22.0384 13.087 21.8754 13.2553L16.488 18.8151C16.325 18.9834 16.0607 18.9834 15.8976 18.8151C15.8976 18.8151 15.8976 18.8151 15.8976 18.8151L12.074 14.8691C12.0332 14.8271 11.9672 14.8271 11.9264 14.8691C11.9264 14.8691 11.9264 14.8691 11.9264 14.8691L8.10287 18.8151C7.93984 18.9834 7.6755 18.9834 7.51246 18.8151C7.51246 18.8151 7.51246 18.8151 7.51246 18.8151L2.12496 13.2552C1.96193 13.0869 1.96193 12.8142 2.12496 12.6459L3.31975 11.4129C3.48278 11.2446 3.74712 11.2446 3.91016 11.4129L7.73382 15.3589C7.77458 15.401 7.84066 15.401 7.88142 15.3589C7.88142 15.3589 7.88143 15.3589 7.88143 15.3589L11.7049 11.4129C11.8679 11.2446 12.1323 11.2446 12.2953 11.4129C12.2953 11.4129 12.2953 11.4129 12.2953 11.4129L16.119 15.3589C16.1597 15.401 16.2258 15.401 16.2666 15.3589L20.0902 11.4129C20.2532 11.2447 20.5176 11.2447 20.6806 11.4129Z" fill="#5399F5"></path></g></svg>
                <span> Wallet Connect</span>
              </Flex>
            </button>
            </article>
          </div>
        </dialog>
        {!mobileAppLInk && <button
          id="connect-button"
          onClick={()=>window.toggleModal("wallet-select-modal")}
          style={{
            width: onMobile ? "150px" : "200px",
            whiteSpace: "nowrap",
            overflow: "hidden",
            textOverflow: "ellipsis",
            marginBottom: "0",
            //marginLeft: onMobile ? "0" : "15px"
          }}
          aria-busy={connecting} 
          className="contrast outline">
            {btnText}
        </button>}
        {mobileAppLInk && <a
          href="/vesta-app/"
          target="_top"
          id="connect-button"
          role="button"
          style={{
            width: onMobile ? "150px" : "200px",
            whiteSpace: "nowrap",
            overflow: "hidden",
            textOverflow: "ellipsis",
            marginBottom: "0",
            //marginLeft: onMobile ? "0" : "15px"
          }}

          className="contrast outline">
            Connect
        </a>}
      </div>
    )
  }
}

export default observer(ConnectButton)